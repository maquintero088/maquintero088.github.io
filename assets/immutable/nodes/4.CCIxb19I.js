import{n as x,j as Ee,k as ne,s as Pe,a as k,l as oe,m as Ce,r as Re}from"../chunks/scheduler.CETjerFy.js";import{F as Te,G as Oe,H as Ne,I as Ue,S as Me,i as Se,d as le,J as pe,K as fe,v as Be,e as E,s as M,c as P,a as A,l as Ie,g as S,f as U,m as r,h as be,j as g,L as Ae,q as De,r as Fe,p as qe,E as he,M as V,N as _e,x as Le,O as He}from"../chunks/index.DQrIAZMX.js";import{i as Ve}from"../chunks/entry.BocDz8L_.js";function Ge(n,e,t,l){if(!e)return x;const c=n.getBoundingClientRect();if(e.left===c.left&&e.right===c.right&&e.top===c.top&&e.bottom===c.bottom)return x;const{delay:i=0,duration:u=300,easing:p=Ee,start:o=Te()+i,end:h=o+u,tick:s=x,css:y}=t(n,{from:e,to:c},l);let j=!0,_=!1,f;function w(){y&&(f=Ne(n,0,1,u,i,p,y)),i||(_=!0)}function m(){y&&Ue(n,f),j=!1}return Oe(d=>{if(!_&&d>=o&&(_=!0),_&&d>=h&&(s(1,0),m()),!j)return!1;if(_){const a=d-o,v=0+1*p(a/u);s(v,1-v)}return!0}),w(),s(0,1),m}function Je(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,c=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=l,je(n,c)}}function je(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(n),c=l.transform==="none"?"":l.transform;n.style.transform=`${c} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function z(n,{pending:e,error:t,result:l}){let c;async function i(u){const p=c={};u.preventDefault();const o=new FormData(n);e&&e({data:o,form:n});try{const h=await fetch(n.action,{method:n.method,headers:{accept:"application/json"},body:o});if(p!==c)return;if(h.ok){l&&l({data:o,form:n,response:h});const s=new URL(n.action);s.search=s.hash="",Ve(s.href)}else t?t({data:o,form:n,error:null,response:h}):console.error(await h.text())}catch(h){if(t&&h instanceof Error)t({data:o,form:n,error:h,response:null});else throw h}}return n.addEventListener("submit",i),{destroy(){n.removeEventListener("submit",i)}}}function we(n){const e=n-1;return e*e*e+1}function ae(n,{delay:e=0,duration:t=400,easing:l=we,start:c=0,opacity:i=0}={}){const u=getComputedStyle(n),p=+u.opacity,o=u.transform==="none"?"":u.transform,h=1-c,s=p*(1-i);return{delay:e,duration:t,easing:l,css:(y,j)=>`
			transform: ${o} scale(${1-h*j});
			opacity: ${p-s*j}
		`}}function ke(n,{from:e,to:t},l={}){const c=getComputedStyle(n),i=c.transform==="none"?"":c.transform,[u,p]=c.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*u/t.width-(t.left+u),h=e.top+e.height*p/t.height-(t.top+p),{delay:s=0,duration:y=_=>Math.sqrt(_)*120,easing:j=we}=l;return{delay:s,duration:ne(y)?y(Math.sqrt(o*o+h*h)):y,easing:j,css:(_,f)=>{const w=f*o,m=f*h,d=_+f*e.width/t.width,a=_+f*e.height/t.height;return`transform: ${i} translate(${w}px, ${m}px) scale(${d}, ${a});`}}}const C="C:/Users/qcmar/WebstormProjects/qcmarcel.me/src/routes/projects/+page.svelte";function $(n,e,t){const l=n.slice();return l[4]=e[t],l[5]=e,l[6]=t,l}function se(n,e){let t,l,c,i,u,p,o,h,s,y,j,_,f,w,m,d,a,v,F,q,Q,N,B,G,X,I,J,K,Y,D,Z,ee=x,R,te,ie;function ce(...T){return e[2](e[4],e[5],e[6],...T)}function ue(){return e[3](e[4],e[5],e[6])}const de={key:n,first:null,c:function(){t=E("div"),l=E("form"),c=E("input"),u=M(),p=E("input"),h=M(),s=E("button"),_=M(),f=E("form"),w=E("input"),d=M(),a=E("input"),F=M(),q=E("button"),Q=M(),N=E("form"),B=E("input"),X=M(),I=E("button"),Y=M(),this.h()},l:function(O){t=P(O,"DIV",{class:!0});var b=A(t);l=P(b,"FORM",{action:!0,method:!0});var L=A(l);c=P(L,"INPUT",{type:!0,name:!0,class:!0}),u=S(L),p=P(L,"INPUT",{type:!0,name:!0,class:!0}),h=S(L),s=P(L,"BUTTON",{class:!0,"aria-label":!0}),A(s).forEach(U),L.forEach(U),_=S(b),f=P(b,"FORM",{class:!0,action:!0,method:!0});var H=A(f);w=P(H,"INPUT",{type:!0,name:!0,class:!0}),d=S(H),a=P(H,"INPUT",{"aria-label":!0,type:!0,name:!0,class:!0}),F=S(H),q=P(H,"BUTTON",{class:!0,"aria-label":!0}),A(q).forEach(U),H.forEach(U),Q=S(b),N=P(b,"FORM",{action:!0,method:!0});var W=A(N);B=P(W,"INPUT",{type:!0,name:!0,class:!0}),X=S(W),I=P(W,"BUTTON",{class:!0,"aria-label":!0}),A(I).forEach(U),W.forEach(U),Y=S(b),b.forEach(U),this.h()},h:function(){r(c,"type","hidden"),r(c,"name","uid"),c.value=i=e[4].uid,r(c,"class","svelte-10drp3r"),k(c,C,46,4,964),r(p,"type","hidden"),r(p,"name","done"),p.value=o=e[4].done?"":"true",r(p,"class","svelte-10drp3r"),k(p,C,47,4,1023),r(s,"class","toggle svelte-10drp3r"),r(s,"aria-label",y="Mark project as "+(e[4].done?"not done":"done")),k(s,C,48,4,1098),r(l,"action","/projects?_method=PATCH"),r(l,"method","post"),k(l,C,35,3,731),r(w,"type","hidden"),r(w,"name","uid"),w.value=m=e[4].uid,r(w,"class","svelte-10drp3r"),k(w,C,52,4,1296),r(a,"aria-label","Edit project"),r(a,"type","text"),r(a,"name","text"),a.value=v=e[4].text,r(a,"class","svelte-10drp3r"),k(a,C,53,4,1355),r(q,"class","save svelte-10drp3r"),r(q,"aria-label","Save project"),k(q,C,54,4,1440),r(f,"class","text svelte-10drp3r"),r(f,"action","/projects?_method=PATCH"),r(f,"method","post"),k(f,C,51,3,1205),r(B,"type","hidden"),r(B,"name","uid"),B.value=G=e[4].uid,r(B,"class","svelte-10drp3r"),k(B,C,66,4,1713),r(I,"class","delete svelte-10drp3r"),r(I,"aria-label","Delete project"),I.disabled=J=e[4].pending_delete,k(I,C,67,4,1772),r(N,"action","/projects?_method=DELETE"),r(N,"method","post"),k(N,C,57,3,1505),r(t,"class","project svelte-10drp3r"),he(t,"done",e[4].done),k(t,C,29,2,592),this.first=t},m:function(O,b){be(O,t,b),g(t,l),g(l,c),g(l,u),g(l,p),g(l,h),g(l,s),g(t,_),g(t,f),g(f,w),g(f,d),g(f,a),g(f,F),g(f,q),g(t,Q),g(t,N),g(N,B),g(N,X),g(N,I),g(t,Y),R=!0,te||(ie=[oe(j=z.call(null,l,{result:me,error:ve,pending:ce})),oe(K=z.call(null,N,{result:ge,error:ye,pending:ue}))],te=!0)},p:function(O,b){e=O,(!R||b&1&&i!==(i=e[4].uid))&&V(c,"value",i),(!R||b&1&&o!==(o=e[4].done?"":"true"))&&V(p,"value",o),(!R||b&1&&y!==(y="Mark project as "+(e[4].done?"not done":"done")))&&r(s,"aria-label",y),j&&ne(j.update)&&b&1&&j.update.call(null,{result:me,error:ve,pending:ce}),(!R||b&1&&m!==(m=e[4].uid))&&V(w,"value",m),(!R||b&1&&v!==(v=e[4].text)&&a.value!==v)&&V(a,"value",v),(!R||b&1&&G!==(G=e[4].uid))&&V(B,"value",G),(!R||b&1&&J!==(J=e[4].pending_delete))&&V(I,"disabled",J),K&&ne(K.update)&&b&1&&K.update.call(null,{result:ge,error:ye,pending:ue}),(!R||b&1)&&he(t,"done",e[4].done)},r:function(){Z=t.getBoundingClientRect()},f:function(){Je(t),ee(),je(t,Z)},a:function(){ee(),ee=Ge(t,Z,ke,{duration:200})},i:function(O){R||(O&&Ce(()=>{R&&(D||(D=_e(t,ae,{start:.7},!0)),D.run(1))}),R=!0)},o:function(O){O&&(D||(D=_e(t,ae,{start:.7},!1)),D.run(0)),R=!1},d:function(O){O&&U(t),O&&D&&D.end(),te=!1,Re(ie)}};return le("SvelteRegisterBlock",{block:de,id:se.name,type:"each",source:"(29:1) {#each projects ?? {} as project (project.uid)}",ctx:e}),de}function re(n){let e,t,l="Projects",c,i,u,p,o=[],h=new Map,s,y,j,_=pe(n[0]??{});const f=m=>m[4].uid;fe(n,_,$,f);for(let m=0;m<_.length;m+=1){let d=$(n,_,m),a=f(d);h.set(a,o[m]=se(a,d))}const w={c:function(){e=E("div"),t=E("h1"),t.textContent=l,c=M(),i=E("form"),u=E("input"),p=M();for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l:function(d){e=P(d,"DIV",{class:!0});var a=A(e);t=P(a,"H1",{"data-svelte-h":!0}),Ie(t)!=="svelte-136d6se"&&(t.textContent=l),c=S(a),i=P(a,"FORM",{class:!0,action:!0,method:!0});var v=A(i);u=P(v,"INPUT",{name:!0,"aria-label":!0,placeholder:!0,class:!0}),v.forEach(U),p=S(a);for(let F=0;F<o.length;F+=1)o[F].l(a);a.forEach(U),this.h()},h:function(){k(t,C,17,1,333),r(u,"name","text"),r(u,"aria-label","Add project"),r(u,"placeholder","+ tap to add a project"),r(u,"class","svelte-10drp3r"),k(u,C,25,2,447),r(i,"class","new svelte-10drp3r"),r(i,"action","/projects"),r(i,"method","post"),k(i,C,19,1,353),r(e,"class","todos svelte-10drp3r"),k(e,C,16,0,312)},m:function(d,a){be(d,e,a),g(e,t),g(e,c),g(e,i),g(i,u),g(e,p);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(e,null);s=!0,y||(j=oe(z.call(null,i,n[1])),y=!0)},p:function(d,[a]){if(a&1){_=pe(d[0]??{}),Le();for(let v=0;v<o.length;v+=1)o[v].r();fe(d,_,$,f),o=Ae(o,a,f,1,d,_,h,e,He,se,null,$);for(let v=0;v<o.length;v+=1)o[v].a();De()}},i:function(d){if(!s){for(let a=0;a<_.length;a+=1)Fe(o[a]);s=!0}},o:function(d){for(let a=0;a<o.length;a+=1)qe(o[a]);s=!1},d:function(d){d&&U(e);for(let a=0;a<o.length;a+=1)o[a].d();y=!1,j()}};return le("SvelteRegisterBlock",{block:w,id:re.name,type:"component",source:"",ctx:n}),w}const me=async()=>{},ve=async()=>{},ge=async()=>{},ye=async()=>{};function Ke(n,e,t){let{$$slots:l={},$$scope:c}=e;Be("Page",l,[]);let{projects:i}=e;const u={pending:async()=>{},error:async()=>{},result:async({form:s})=>{s.reset()}};n.$$.on_mount.push(function(){i===void 0&&!("projects"in e||n.$$.bound[n.$$.props.projects])&&console.warn("<Page> was created without expected prop 'projects'")});const p=["projects"];Object.keys(e).forEach(s=>{!~p.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<Page> was created with unknown prop '${s}'`)});const o=(s,y,j,{data:_})=>{t(0,y[j].done=!!_.get("done"),i)},h=(s,y,j)=>t(0,y[j].pending_delete=!0,i);return n.$$set=s=>{"projects"in s&&t(0,i=s.projects)},n.$capture_state=()=>({enhance:z,scale:ae,flip:ke,projects:i,formResetAction:u}),n.$inject_state=s=>{"projects"in s&&t(0,i=s.projects)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[i,u,o,h]}class ze extends Me{constructor(e){super(e),Se(this,e,Ke,re,Pe,{projects:0,formResetAction:1}),le("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:re.name})}get projects(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set projects(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get formResetAction(){return this.$$.ctx[1]}set formResetAction(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{ze as component};
